#pragma once

#include <array>
#include <screens/screen.hpp>

namespace obegransad {

    class ScreenCircle : public Screen {
    public:
        const char *getName() const override {
            return "Circle";
        }

        void onShow() override {
            m_circleStep = 0;
        }

        std::uint32_t getUpdateInterval() const override { return 100; }
        std::uint32_t getVisibleTime() const override { return 5 * 1000; }

        void draw() override {
            hal::Screen::clear();

            rndr::Renderer::drawBitmap(0, 0, Frames[m_circleStep], 0x10);

            m_circleStep += 1;
            if (m_circleStep >= Frames.size()) {
                m_circleStep = 7;
            }
        }

    private:
        std::uint8_t m_circleStep = 0;

        const std::array<rndr::Bitmap, 15> Frames = {{
            { 16, 16, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
            { 16, 16, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x80, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
            { 16, 16, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x03, 0xc0, 0x03, 0xc0, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
            { 16, 16, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xc0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x03, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
            { 16, 16, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xe0, 0x07, 0xe0, 0x0f, 0xf0, 0x0e, 0x70, 0x0e, 0x70, 0x0f, 0xf0, 0x07, 0xe0, 0x07, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
            { 16, 16, {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xe0, 0x0f, 0xf0, 0x1f, 0xf8, 0x1c, 0x38, 0x1c, 0x38, 0x1c, 0x38, 0x1c, 0x38, 0x1f, 0xf8, 0x0f, 0xf0, 0x07, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}},
            { 16, 16, {0x00, 0x00, 0x00, 0x00, 0x07, 0xe0, 0x0f, 0xf0, 0x1f, 0xf8, 0x3c, 0x3c, 0x38, 0x1c, 0x38, 0x1c, 0x38, 0x1c, 0x38, 0x1c, 0x3c, 0x3c, 0x1f, 0xf8, 0x0f, 0xf0, 0x07, 0xe0, 0x00, 0x00, 0x00, 0x00}},
            { 16, 16, {0x00, 0x00, 0x0f, 0xf0, 0x1f, 0xf8, 0x3f, 0xfc, 0x38, 0x1c, 0x78, 0x1e, 0x70, 0x0e, 0x70, 0x0e, 0x70, 0x0e, 0x70, 0x0e, 0x78, 0x1e, 0x38, 0x1c, 0x3f, 0xfc, 0x1f, 0xf8, 0x0f, 0xf0, 0x00, 0x00}},
            { 16, 16, {0x0f, 0xf0, 0x1f, 0xf8, 0x3f, 0xfc, 0x78, 0x1e, 0x70, 0x0e, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0x70, 0x0e, 0x78, 0x1e, 0x3f, 0xfc, 0x1f, 0xf8, 0x0f, 0xf0}},
            { 16, 16, {0x3f, 0xfc, 0x7f, 0xfe, 0x78, 0x1e, 0xf0, 0x0f, 0xe0, 0x07, 0xc0, 0x03, 0xc0, 0x03, 0xc1, 0x83, 0xc1, 0x83, 0xc0, 0x03, 0xc0, 0x03, 0xe0, 0x07, 0xf0, 0x0f, 0x78, 0x1e, 0x7f, 0xfe, 0x3f, 0xfc}},
            { 16, 16, {0x7f, 0xfe, 0xf0, 0x0f, 0xe0, 0x07, 0xc0, 0x03, 0xc0, 0x03, 0x80, 0x01, 0x83, 0xc1, 0x83, 0xc1, 0x83, 0xc1, 0x83, 0xc1, 0x80, 0x01, 0xc0, 0x03, 0xc0, 0x03, 0xe0, 0x07, 0xf0, 0x0f, 0x7f, 0xfe}},
            { 16, 16, {0xf0, 0x0f, 0xe0, 0x07, 0xc0, 0x03, 0x80, 0x01, 0x80, 0x01, 0x03, 0xc0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x07, 0xe0, 0x03, 0xc0, 0x80, 0x01, 0x80, 0x01, 0xc0, 0x03, 0xe0, 0x07, 0xf0, 0x0f}},
            { 16, 16, {0xc0, 0x03, 0x80, 0x01, 0x80, 0x01, 0x00, 0x00, 0x07, 0xe0, 0x07, 0xe0, 0x0f, 0xf0, 0x0e, 0x70, 0x0e, 0x70, 0x0f, 0xf0, 0x07, 0xe0, 0x07, 0xe0, 0x00, 0x00, 0x80, 0x01, 0x80, 0x01, 0xc0, 0x03}},
            { 16, 16, {0x80, 0x01, 0x00, 0x00, 0x00, 0x00, 0x07, 0xe0, 0x0f, 0xf0, 0x1f, 0xf8, 0x1c, 0x38, 0x1c, 0x38, 0x1c, 0x38, 0x1c, 0x38, 0x1f, 0xf8, 0x0f, 0xf0, 0x07, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x80, 0x01}},
            { 16, 16, {0x00, 0x00, 0x00, 0x00, 0x07, 0xe0, 0x0f, 0xf0, 0x1f, 0xf8, 0x3c, 0x3c, 0x38, 0x1c, 0x38, 0x1c, 0x38, 0x1c, 0x38, 0x1c, 0x3c, 0x3c, 0x1f, 0xf8, 0x0f, 0xf0, 0x07, 0xe0, 0x00, 0x00, 0x00, 0x00}}
        }};
    };
}